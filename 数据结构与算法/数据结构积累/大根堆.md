# 参考链接
https://blog.csdn.net/twilight_karl/article/details/110413586

# 总结
## 什么是堆
- 堆通常是一个可以被看作一棵完全二叉树的数组对象。不需要把数组转换成二叉树。
## 什么是大根堆
- 每个结点的值都大于或等于其左右孩子结点的值
- 没有要求左右孩子节点的值

## 父子节点下标之间的关系
假设当前节点下标为n
- 左子节点：2n + 1
- 右子节点：2n + 2
- 父节点：Math.floor((n - 1) / 2)

## 适用场景
构建优先队列，求最值

# 大根堆的实现
```javascript
class PriorityQueue1 {
  constructor() {
    this.queue = []
  }

  enqueue(val) {
    this.queue.push(val)
    this.shiftUp(this.queue.length - 1)
  }

  dequeue() {
    this.swap(0, this.queue.length - 1)
    const element = this.queue.pop()
    this.shiftDown(0)
    return element
  }

  shiftUp(k) {
    while (k >= 1 && this.queue[k] > this.queue[Math.floor((k - 1) / 2)]) {
      this.swap(k, Math.floor((k - 1) /2))
      k = Math.floor((k - 1) / 2)
    }
  }

  shiftDown(k) {
    while (2 * k + 1 < this.queue.length) {
      let left = 2 * k + 1 // 左子元素
      if (left + 1 < this.queue.length && this.queue[left] < this.queue[left + 1]) { // 找到左右子元素较大的值
        left += 1
      }
      if (this.queue[left] > this.queue[k]){
        this.swap(left, k)
      }

      k = left
    }
  }

  swap(left, right) {
    [this.queue[left], this.queue[right]] = [this.queue[right], this.queue[left]]
  }
}
```
